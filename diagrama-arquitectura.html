<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradientes -->
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4299e1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2b6cb0;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#48bb78;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2f855a;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="redGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f56565;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c53030;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9f7aea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6b46c1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="orangeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ed8936;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c05621;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="yellowGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ecc94b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b7791f;stop-opacity:1" />
    </linearGradient>
    
    <!-- Sombra -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="0" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f7fafc"/>
  
  <!-- T√≠tulo -->
  <text x="600" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#2d3748">
    Sistema Distribuido de C√≥mputo y Monitoreo
  </text>
  <text x="600" y="55" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#718096">
    An√°lisis Gen√≥mico con Grid Computing y Monitoreo en Tiempo Real
  </text>
  
  <!-- Cliente CLI -->
  <rect x="30" y="100" width="160" height="120" rx="10" fill="url(#blueGrad)" filter="url(#shadow)"/>
  <text x="110" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Cliente CLI</text>
  <text x="110" y="148" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">(submit_job.py)</text>
  <text x="50" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Recibe archivo</text>
  <text x="50" y="192" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Env√≠a trabajo</text>
  <text x="50" y="209" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Consulta estado</text>
  
  <!-- Flecha Cliente -> Servidor -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4a5568" />
    </marker>
  </defs>
  <line x1="190" y1="160" x2="320" y2="160" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="240" y="150" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2d3748" font-weight="bold">TCP IPv4/IPv6</text>
  <text x="240" y="180" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#4a5568">(archivo.txt)</text>
  
  <!-- Servidor Master -->
  <rect x="320" y="100" width="200" height="150" rx="10" fill="url(#greenGrad)" filter="url(#shadow)"/>
  <text x="420" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Servidor</text>
  <text x="420" y="148" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">(asyncio)</text>
  <text x="340" y="175" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Recibe archivo</text>
  <text x="340" y="192" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Divide en chunks</text>
  <text x="340" y="209" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Encola tareas</text>
  <text x="340" y="226" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Agrega resultados</text>
  <text x="340" y="243" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Consulta progreso</text>
  
  <!-- Flecha Servidor -> Redis -->
  <line x1="520" y1="160" x2="630" y2="160" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="575" y="150" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2d3748" font-weight="bold">Queue</text>
  
  <!-- Redis -->
  <rect x="630" y="100" width="160" height="120" rx="10" fill="url(#redGrad)" filter="url(#shadow)"/>
  <text x="710" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Redis</text>
  <text x="650" y="160" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Queue (Celery)</text>
  <text x="650" y="177" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Result Backend</text>
  <text x="650" y="194" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Estado Jobs</text>
  <text x="650" y="211" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ M√©tricas</text>
  
  <!-- Flecha Redis -> Workers -->
  <line x1="710" y1="220" x2="710" y2="280" stroke="#4a5568" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Flecha curva polling results -->
  <path d="M 710 220 Q 790 250 790 160" stroke="#4a5568" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
  <polygon points="790,165 788,155 792,155" fill="#4a5568"/>
  <text x="825" y="190" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">polling</text>
  <text x="825" y="202" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">results</text>
  
  <!-- Recursos Compartidos (IPC) -->
  <rect x="260" y="320" width="320" height="100" rx="10" fill="url(#orangeGrad)" filter="url(#shadow)"/>
  <text x="420" y="350" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Recursos Compartidos</text>
  <text x="420" y="368" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">(multiprocessing)</text>
  <text x="280" y="390" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Value + Lock (contador global jobs)</text>
  <text x="280" y="407" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Queue (logs operaciones)</text>
  
  <!-- Flecha Servidor -> Recursos (crear/leer) -->
  <line x1="420" y1="250" x2="420" y2="320" stroke="#4a5568" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="420,315 417,305 423,305" fill="#4a5568"/>
  <text x="435" y="290" font-family="Arial, sans-serif" font-size="9" fill="#4a5568">crea/lee</text>
  
  <!-- Worker 1 -->
  <g>
    <rect x="850" y="280" width="130" height="90" rx="8" fill="url(#purpleGrad)" filter="url(#shadow)"/>
    <text x="915" y="305" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Worker 1</text>
    <text x="915" y="320" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(Celery)</text>
    <text x="865" y="340" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ Parsea chunk</text>
    <text x="865" y="355" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ Extrae stats</text>
    
    <!-- Flecha Worker -> Recursos -->
    <line x1="850" y1="360" x2="580" y2="380" stroke="#4a5568" stroke-width="2" stroke-dasharray="3,3"/>
    <polygon points="585,379 575,382 578,375" fill="#4a5568"/>
  </g>
  
  <!-- Worker 2 -->
  <g>
    <rect x="850" y="400" width="130" height="90" rx="8" fill="url(#purpleGrad)" filter="url(#shadow)"/>
    <text x="915" y="425" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Worker 2</text>
    <text x="915" y="440" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(Celery)</text>
    <text x="865" y="460" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ Parsea chunk</text>
    <text x="865" y="475" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ Extrae stats</text>
    
    <!-- Flecha Worker 2 -> Recursos -->
    <line x1="850" y1="410" x2="580" y2="390" stroke="#4a5568" stroke-width="2" stroke-dasharray="3,3"/>
    <polygon points="585,391 575,388 578,395" fill="#4a5568"/>
  </g>
  
  <!-- Worker N -->
  <g>
    <rect x="850" y="520" width="130" height="90" rx="8" fill="url(#purpleGrad)" filter="url(#shadow)"/>
    <text x="915" y="545" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Worker N</text>
    <text x="915" y="560" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">(Celery)</text>
    <text x="865" y="580" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ Parsea chunk</text>
    <text x="865" y="595" font-family="Arial, sans-serif" font-size="10" fill="white">‚Ä¢ Extrae stats</text>
    
    <!-- Flecha Worker N -> Recursos -->
    <line x1="850" y1="540" x2="580" y2="400" stroke="#4a5568" stroke-width="2" stroke-dasharray="3,3"/>
    <polygon points="585,401 575,398 578,405" fill="#4a5568"/>
  </g>
  
  <!-- Flecha Workers -> Agente (Unix Socket IPC) -->
  <g>
    <line x1="915" y1="370" x2="915" y2="400" stroke="#ed8936" stroke-width="3"/>
    <text x="930" y="390" font-family="Arial, sans-serif" font-size="9" fill="#ed8936" font-weight="bold">Unix Socket</text>
    <text x="930" y="400" font-family="Arial, sans-serif" font-size="9" fill="#ed8936">(IPC)</text>
    
    <line x1="915" y1="490" x2="915" y2="520" stroke="#ed8936" stroke-width="3"/>
    
    <!-- Agentes dentro de cada worker -->
    <rect x="1010" y="283" width="160" height="85" rx="6" fill="#ffffff" stroke="#ed8936" stroke-width="2" opacity="0.95"/>
    <text x="1090" y="305" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#c05621">Agente (Sopl√≥n)</text>
    <text x="1025" y="325" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ Reporta CPU/RAM</text>
    <text x="1025" y="340" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ Heartbeat v√≠a IPC</text>
    <text x="1025" y="355" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ Status: vivo/muerto</text>
    
    <rect x="1010" y="403" width="160" height="85" rx="6" fill="#ffffff" stroke="#ed8936" stroke-width="2" opacity="0.95"/>
    <text x="1090" y="425" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#c05621">Agente (Sopl√≥n)</text>
    <text x="1025" y="445" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ Monitoreo local</text>
    <text x="1025" y="460" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ Reporte al Collector</text>
    <text x="1025" y="475" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ Cada 10 segundos</text>
    
    <rect x="1010" y="523" width="160" height="85" rx="6" fill="#ffffff" stroke="#ed8936" stroke-width="2" opacity="0.95"/>
    <text x="1090" y="545" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#c05621">Agente (Sopl√≥n)</text>
    <text x="1025" y="565" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ psutil (m√©tricas)</text>
    <text x="1025" y="580" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ TCP ‚Üí Collector</text>
    <text x="1025" y="595" font-family="Arial, sans-serif" font-size="9" fill="#2d3748">‚Ä¢ Alerta si worker cae</text>
  </g>
  
  <!-- Servidor Collector -->
  <rect x="100" y="520" width="480" height="120" rx="10" fill="url(#yellowGrad)" filter="url(#shadow)"/>
  <text x="340" y="550" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Servidor Collector (El Vigilante)</text>
  <text x="340" y="568" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">(asyncio - Sistema B)</text>
  <text x="120" y="595" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Recibe m√©tricas de todos los Agentes</text>
  <text x="120" y="612" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Detecta anomal√≠as (CPU >95%, Memory >90%, Status=DEAD)</text>
  <text x="120" y="629" font-family="Arial, sans-serif" font-size="11" fill="white">‚Ä¢ Genera alertas y notifica al Master sobre fallos</text>
  
  <!-- Flechas Agentes -> Collector -->
  <path d="M 1010 340 Q 700 440 580 540" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1010 445 Q 800 480 580 560" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1010 565 Q 800 580 580 580" stroke="#4a5568" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Flecha Collector -> Servidor (alerta) -->
  <path d="M 340 520 Q 380 400 420 250" stroke="#e53e3e" stroke-width="3" fill="none" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="360" y="385" font-family="Arial, sans-serif" font-size="10" fill="#e53e3e" font-weight="bold">Dispara</text>
  <text x="360" y="397" font-family="Arial, sans-serif" font-size="10" fill="#e53e3e" font-weight="bold">Alertas</text>
  
  <!-- Leyenda -->
  <rect x="30" y="680" width="1140" height="100" rx="8" fill="#e6fffa" stroke="#38b2ac" stroke-width="2"/>
  <text x="50" y="705" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">üìã Tecnolog√≠as Implementadas:</text>
  
  <g>
    <rect x="50" y="715" width="160" height="30" rx="5" fill="#4299e1"/>
    <text x="130" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">‚úì Sockets (asyncio)</text>
  </g>
  
  <g>
    <rect x="220" y="715" width="160" height="30" rx="5" fill="#48bb78"/>
    <text x="300" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">‚úì Asincronismo I/O</text>
  </g>
  
  <g>
    <rect x="390" y="715" width="160" height="30" rx="5" fill="#f56565"/>
    <text x="470" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">‚úì Cola Celery (Redis)</text>
  </g>
  
  <g>
    <rect x="560" y="715" width="160" height="30" rx="5" fill="#9f7aea"/>
    <text x="640" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">‚úì Workers (Celery)</text>
  </g>
  
  <g>
    <rect x="730" y="715" width="160" height="30" rx="5" fill="#ed8936"/>
    <text x="810" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">‚úì IPC (Unix Sockets)</text>
  </g>
  
  <g>
    <rect x="900" y="715" width="160" height="30" rx="5" fill="#ecc94b"/>
    <text x="980" y="735" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">‚úì CLI (argparse)</text>
  </g>
  
  <text x="600" y="770" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2d3748">
    <tspan font-weight="bold">Sistema A (Grid de C√≥mputo):</tspan> An√°lisis paralelo de genoma 200MB | 
    <tspan font-weight="bold">Sistema B (Monitoreo):</tspan> Vigilancia de salud de workers
  </text>
</svg>